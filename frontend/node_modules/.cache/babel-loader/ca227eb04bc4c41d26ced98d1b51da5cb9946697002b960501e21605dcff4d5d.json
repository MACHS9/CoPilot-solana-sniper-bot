{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\CoPilot solana-sniper-bot\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/App.jsx\n\nimport React, { useEffect, useState } from \"react\";\nimport usePhantom from \"./hooks/usePhantom\";\nimport backend from \"./api/backend\";\nimport { buildSwapTx } from \"./api/swap\";\nimport { sendBundle } from \"./api/jito\";\nimport { connectWS } from \"./api/websocket\";\nimport { Connection, VersionedTransaction } from \"@solana/web3.js\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RPC_ENDPOINT = \"https://api.mainnet-beta.solana.com\";\nconst SOL_MINT = \"So11111111111111111111111111111111111111112\";\nexport default function App() {\n  _s();\n  const {\n    wallet,\n    publicKey,\n    connected,\n    connect,\n    disconnect\n  } = usePhantom();\n  const [mint, setMint] = useState(\"\");\n  const [analysis, setAnalysis] = useState(null);\n  const [loadingAnalysis, setLoadingAnalysis] = useState(false);\n  const [executingBundle, setExecutingBundle] = useState(false);\n  const [autoMint, setAutoMint] = useState(\"\");\n  const [autoActive, setAutoActive] = useState(false);\n  const [autoOpportunities, setAutoOpportunities] = useState([]);\n  const [log, setLog] = useState(\"\");\n  const addLog = msg => {\n    const time = new Date().toLocaleTimeString();\n    setLog(prev => `[${time}] ${msg}\\n` + prev);\n  };\n  useEffect(() => {\n    connectWS(msg => {\n      if (msg.type === \"opportunity\") {\n        setAutoOpportunities(prev => [msg.data, ...prev]);\n        addLog(`Auto opportunity detected for mint ${msg.data.mint}`);\n      }\n    });\n  }, []);\n  const analyzeToken = async () => {\n    if (!mint) return;\n    setLoadingAnalysis(true);\n    setAnalysis(null);\n    addLog(`Analyzing token: ${mint}`);\n    try {\n      const {\n        data\n      } = await backend.post(\"/manual/analyze\", {\n        mint\n      });\n      setAnalysis(data);\n      addLog(\"Analysis complete.\");\n    } catch (err) {\n      console.error(err);\n      addLog(\"Analysis failed.\");\n      alert(\"Failed to analyze token\");\n    }\n    setLoadingAnalysis(false);\n  };\n  const executeBundle = async (source = \"manual\", customAnalysis = null) => {\n    var _current$plan;\n    const current = customAnalysis || analysis;\n    if (!connected || !wallet || !publicKey) {\n      alert(\"Connect Phantom first\");\n      return;\n    }\n    if (!(current !== null && current !== void 0 && (_current$plan = current.plan) !== null && _current$plan !== void 0 && _current$plan.canSnipe)) {\n      alert(\"No executable plan\");\n      return;\n    }\n    const steps = current.plan.steps;\n    const firstBuy = steps.find(s => s.type === \"BUY\");\n    const firstSell = steps.find(s => s.type === \"SELL\");\n    if (!firstBuy || !firstSell) {\n      alert(\"Plan must contain BUY + SELL\");\n      return;\n    }\n    setExecutingBundle(true);\n    addLog(`Executing bundle (${source}) for mint ${current.mint}...`);\n    try {\n      const connection = new Connection(RPC_ENDPOINT, \"confirmed\");\n      const buyAmountLamports = Math.floor(firstBuy.amountSol * 1e9);\n\n      // BUY\n      const buySwap = await buildSwapTx({\n        inputMint: SOL_MINT,\n        outputMint: current.mint,\n        amount: buyAmountLamports,\n        slippageBps: 5000,\n        userPublicKey: publicKey\n      });\n      const buyTxBuf = Buffer.from(buySwap.swapTransaction, \"base64\");\n      const buyTx = VersionedTransaction.deserialize(buyTxBuf);\n      const signedBuy = await wallet.signTransaction(buyTx);\n      const rawBuy = Buffer.from(signedBuy.serialize()).toString(\"base64\");\n      addLog(\"BUY transaction signed.\");\n\n      // SELL\n      const sellSwap = await buildSwapTx({\n        inputMint: current.mint,\n        outputMint: SOL_MINT,\n        amount: 1,\n        slippageBps: 5000,\n        userPublicKey: publicKey\n      });\n      const sellTxBuf = Buffer.from(sellSwap.swapTransaction, \"base64\");\n      const sellTx = VersionedTransaction.deserialize(sellTxBuf);\n      const signedSell = await wallet.signTransaction(sellTx);\n      const rawSell = Buffer.from(signedSell.serialize()).toString(\"base64\");\n      addLog(\"SELL transaction signed.\");\n\n      // Jito bundle\n      const bundleResult = await sendBundle([rawBuy, rawSell]);\n      addLog(\"Jito bundle sent.\");\n      addLog(JSON.stringify(bundleResult, null, 2).slice(0, 800));\n      alert(\"Bundle executed (check logs for details).\");\n    } catch (err) {\n      console.error(err);\n      addLog(\"Bundle execution failed.\");\n      alert(\"Bundle execution failed\");\n    }\n    setExecutingBundle(false);\n  };\n  const startAuto = async () => {\n    if (!autoMint) return;\n    try {\n      await backend.post(\"/auto/start\", {\n        mint: autoMint\n      });\n      setAutoActive(true);\n      addLog(`Auto mode started for mint ${autoMint}`);\n    } catch (err) {\n      console.error(err);\n      addLog(\"Failed to start auto mode.\");\n      alert(\"Failed to start auto mode\");\n    }\n  };\n  const stopAuto = async () => {\n    try {\n      await backend.post(\"/auto/stop\", {\n        mint: autoMint\n      });\n      setAutoActive(false);\n      addLog(`Auto mode stopped for mint ${autoMint}`);\n    } catch (err) {\n      console.error(err);\n      addLog(\"Failed to stop auto mode.\");\n      alert(\"Failed to stop auto mode\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-root\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Solana Rug Sniper\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"header-tagline\",\n          children: \"Real-time collapse sniping with Jito bundles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: connected ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-dot online\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-text\",\n            children: [publicKey.slice(0, 4), \"...\", publicKey.slice(-4)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn danger\",\n            onClick: disconnect,\n            children: \"Disconnect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-dot offline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-text\",\n            children: \"Wallet not connected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: connect,\n            children: \"Connect Phantom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"panel left-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Manual Sniper\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"panel-subtitle\",\n          children: \"Analyze a token and execute a single BUY+SELL bundle.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"Token Mint\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"input\",\n            placeholder: \"Enter token mint address\",\n            value: mint,\n            onChange: e => setMint(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: analyzeToken,\n            children: loadingAnalysis ? \"Analyzing...\" : \"Analyze\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), analysis && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Analysis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label-inline\",\n              children: \"Risk:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `risk-badge risk-${analysis.risk.status}`,\n              children: analysis.risk.status.toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label-inline\",\n              children: \"Liquidity:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), \" \", \"$\", analysis.risk.liquidityUsd]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label-inline\",\n              children: \"Price 5m:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), \" \", analysis.risk.priceChange5m, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label-inline\",\n              children: \"Price 1h:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), \" \", analysis.risk.priceChange1h, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Reasons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"reasons-list\",\n            children: analysis.risk.reasons.map((r, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: r\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), !analysis.plan.canSnipe && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u274C \", analysis.plan.reason]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 43\n          }, this), analysis.plan.canSnipe && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"steps-list\",\n              children: analysis.plan.steps.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `step-badge step-${s.type.toLowerCase()}`,\n                  children: s.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 25\n                }, this), \" \", s.amountSol || s.amount]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              style: {\n                marginTop: \"12px\"\n              },\n              disabled: executingBundle || !connected,\n              onClick: () => executeBundle(\"manual\", analysis),\n              children: executingBundle ? \"Executing Bundle...\" : \"Execute BUY+SELL Bundle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this), !connected && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"hint\",\n              children: \"Connect Phantom to execute bundles.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"panel right-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Auto Mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"panel-subtitle\",\n          children: \"Monitor a token and receive real-time snipe opportunities.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"Auto Target Mint\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"input\",\n            placeholder: \"Mint to monitor\",\n            value: autoMint,\n            onChange: e => setAutoMint(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: !autoActive ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              onClick: startAuto,\n              children: \"Start Auto Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn danger\",\n              onClick: stopAuto,\n              children: \"Stop Auto Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Auto Opportunities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), autoOpportunities.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"hint\",\n            children: \"No opportunities detected yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this), autoOpportunities.map((op, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"op-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"op-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"op-mint\",\n                children: op.mint\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `risk-badge risk-${op.risk.status}`,\n                style: {\n                  marginLeft: \"8px\"\n                },\n                children: op.risk.status.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"op-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Liquidity: $\", op.risk.liquidityUsd]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"5m: \", op.risk.priceChange5m, \"% | 1h: \", op.risk.priceChange1h, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn small\",\n                disabled: executingBundle || !connected,\n                onClick: () => executeBundle(\"auto\", op),\n                children: \"Execute Bundle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"logs-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Execution Logs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logs-box\",\n        children: /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: log\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"85azIVHM4Yj9k9CplbBSn05s8wY=\", false, function () {\n  return [usePhantom];\n});\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","usePhantom","backend","buildSwapTx","sendBundle","connectWS","Connection","VersionedTransaction","jsxDEV","_jsxDEV","Fragment","_Fragment","RPC_ENDPOINT","SOL_MINT","App","_s","wallet","publicKey","connected","connect","disconnect","mint","setMint","analysis","setAnalysis","loadingAnalysis","setLoadingAnalysis","executingBundle","setExecutingBundle","autoMint","setAutoMint","autoActive","setAutoActive","autoOpportunities","setAutoOpportunities","log","setLog","addLog","msg","time","Date","toLocaleTimeString","prev","type","data","analyzeToken","post","err","console","error","alert","executeBundle","source","customAnalysis","_current$plan","current","plan","canSnipe","steps","firstBuy","find","s","firstSell","connection","buyAmountLamports","Math","floor","amountSol","buySwap","inputMint","outputMint","amount","slippageBps","userPublicKey","buyTxBuf","Buffer","from","swapTransaction","buyTx","deserialize","signedBuy","signTransaction","rawBuy","serialize","toString","sellSwap","sellTxBuf","sellTx","signedSell","rawSell","bundleResult","JSON","stringify","slice","startAuto","stopAuto","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","placeholder","value","onChange","e","target","risk","status","toUpperCase","liquidityUsd","priceChange5m","priceChange1h","reasons","map","r","i","reason","toLowerCase","style","marginTop","disabled","length","op","idx","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/CoPilot solana-sniper-bot/frontend/src/App.jsx"],"sourcesContent":["// frontend/src/App.jsx\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport usePhantom from \"./hooks/usePhantom\";\r\nimport backend from \"./api/backend\";\r\nimport { buildSwapTx } from \"./api/swap\";\r\nimport { sendBundle } from \"./api/jito\";\r\nimport { connectWS } from \"./api/websocket\";\r\nimport { Connection, VersionedTransaction } from \"@solana/web3.js\";\r\n\r\nconst RPC_ENDPOINT = \"https://api.mainnet-beta.solana.com\";\r\nconst SOL_MINT = \"So11111111111111111111111111111111111111112\";\r\n\r\nexport default function App() {\r\n  const { wallet, publicKey, connected, connect, disconnect } = usePhantom();\r\n\r\n  const [mint, setMint] = useState(\"\");\r\n  const [analysis, setAnalysis] = useState(null);\r\n  const [loadingAnalysis, setLoadingAnalysis] = useState(false);\r\n  const [executingBundle, setExecutingBundle] = useState(false);\r\n\r\n  const [autoMint, setAutoMint] = useState(\"\");\r\n  const [autoActive, setAutoActive] = useState(false);\r\n  const [autoOpportunities, setAutoOpportunities] = useState([]);\r\n\r\n  const [log, setLog] = useState(\"\");\r\n\r\n  const addLog = (msg) => {\r\n    const time = new Date().toLocaleTimeString();\r\n    setLog((prev) => `[${time}] ${msg}\\n` + prev);\r\n  };\r\n\r\n  useEffect(() => {\r\n    connectWS((msg) => {\r\n      if (msg.type === \"opportunity\") {\r\n        setAutoOpportunities((prev) => [msg.data, ...prev]);\r\n        addLog(`Auto opportunity detected for mint ${msg.data.mint}`);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const analyzeToken = async () => {\r\n    if (!mint) return;\r\n    setLoadingAnalysis(true);\r\n    setAnalysis(null);\r\n    addLog(`Analyzing token: ${mint}`);\r\n\r\n    try {\r\n      const { data } = await backend.post(\"/manual/analyze\", { mint });\r\n      setAnalysis(data);\r\n      addLog(\"Analysis complete.\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      addLog(\"Analysis failed.\");\r\n      alert(\"Failed to analyze token\");\r\n    }\r\n\r\n    setLoadingAnalysis(false);\r\n  };\r\n\r\n  const executeBundle = async (source = \"manual\", customAnalysis = null) => {\r\n    const current = customAnalysis || analysis;\r\n\r\n    if (!connected || !wallet || !publicKey) {\r\n      alert(\"Connect Phantom first\");\r\n      return;\r\n    }\r\n\r\n    if (!current?.plan?.canSnipe) {\r\n      alert(\"No executable plan\");\r\n      return;\r\n    }\r\n\r\n    const steps = current.plan.steps;\r\n    const firstBuy = steps.find((s) => s.type === \"BUY\");\r\n    const firstSell = steps.find((s) => s.type === \"SELL\");\r\n\r\n    if (!firstBuy || !firstSell) {\r\n      alert(\"Plan must contain BUY + SELL\");\r\n      return;\r\n    }\r\n\r\n    setExecutingBundle(true);\r\n    addLog(`Executing bundle (${source}) for mint ${current.mint}...`);\r\n\r\n    try {\r\n      const connection = new Connection(RPC_ENDPOINT, \"confirmed\");\r\n\r\n      const buyAmountLamports = Math.floor(firstBuy.amountSol * 1e9);\r\n\r\n      // BUY\r\n      const buySwap = await buildSwapTx({\r\n        inputMint: SOL_MINT,\r\n        outputMint: current.mint,\r\n        amount: buyAmountLamports,\r\n        slippageBps: 5000,\r\n        userPublicKey: publicKey\r\n      });\r\n\r\n      const buyTxBuf = Buffer.from(buySwap.swapTransaction, \"base64\");\r\n      const buyTx = VersionedTransaction.deserialize(buyTxBuf);\r\n      const signedBuy = await wallet.signTransaction(buyTx);\r\n      const rawBuy = Buffer.from(signedBuy.serialize()).toString(\"base64\");\r\n      addLog(\"BUY transaction signed.\");\r\n\r\n      // SELL\r\n      const sellSwap = await buildSwapTx({\r\n        inputMint: current.mint,\r\n        outputMint: SOL_MINT,\r\n        amount: 1,\r\n        slippageBps: 5000,\r\n        userPublicKey: publicKey\r\n      });\r\n\r\n      const sellTxBuf = Buffer.from(sellSwap.swapTransaction, \"base64\");\r\n      const sellTx = VersionedTransaction.deserialize(sellTxBuf);\r\n      const signedSell = await wallet.signTransaction(sellTx);\r\n      const rawSell = Buffer.from(signedSell.serialize()).toString(\"base64\");\r\n      addLog(\"SELL transaction signed.\");\r\n\r\n      // Jito bundle\r\n      const bundleResult = await sendBundle([rawBuy, rawSell]);\r\n      addLog(\"Jito bundle sent.\");\r\n      addLog(JSON.stringify(bundleResult, null, 2).slice(0, 800));\r\n\r\n      alert(\"Bundle executed (check logs for details).\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      addLog(\"Bundle execution failed.\");\r\n      alert(\"Bundle execution failed\");\r\n    }\r\n\r\n    setExecutingBundle(false);\r\n  };\r\n\r\n  const startAuto = async () => {\r\n    if (!autoMint) return;\r\n    try {\r\n      await backend.post(\"/auto/start\", { mint: autoMint });\r\n      setAutoActive(true);\r\n      addLog(`Auto mode started for mint ${autoMint}`);\r\n    } catch (err) {\r\n      console.error(err);\r\n      addLog(\"Failed to start auto mode.\");\r\n      alert(\"Failed to start auto mode\");\r\n    }\r\n  };\r\n\r\n  const stopAuto = async () => {\r\n    try {\r\n      await backend.post(\"/auto/stop\", { mint: autoMint });\r\n      setAutoActive(false);\r\n      addLog(`Auto mode stopped for mint ${autoMint}`);\r\n    } catch (err) {\r\n      console.error(err);\r\n      addLog(\"Failed to stop auto mode.\");\r\n      alert(\"Failed to stop auto mode\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-root\">\r\n      {/* HEADER */}\r\n      <header className=\"header\">\r\n        <div className=\"header-left\">\r\n          <h1>Solana Rug Sniper</h1>\r\n          <span className=\"header-tagline\">\r\n            Real-time collapse sniping with Jito bundles\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"header-right\">\r\n          {connected ? (\r\n            <>\r\n              <span className=\"status-dot online\"></span>\r\n              <span className=\"status-text\">\r\n                {publicKey.slice(0, 4)}...{publicKey.slice(-4)}\r\n              </span>\r\n              <button className=\"btn danger\" onClick={disconnect}>\r\n                Disconnect\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <span className=\"status-dot offline\"></span>\r\n              <span className=\"status-text\">Wallet not connected</span>\r\n              <button className=\"btn\" onClick={connect}>\r\n                Connect Phantom\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"layout\">\r\n        {/* LEFT PANEL: Manual Sniper */}\r\n        <section className=\"panel left-panel\">\r\n          <h2>Manual Sniper</h2>\r\n          <p className=\"panel-subtitle\">\r\n            Analyze a token and execute a single BUY+SELL bundle.\r\n          </p>\r\n\r\n          <div className=\"card\">\r\n            <label className=\"label\">Token Mint</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input\"\r\n              placeholder=\"Enter token mint address\"\r\n              value={mint}\r\n              onChange={(e) => setMint(e.target.value)}\r\n            />\r\n\r\n            <button className=\"btn\" onClick={analyzeToken}>\r\n              {loadingAnalysis ? \"Analyzing...\" : \"Analyze\"}\r\n            </button>\r\n          </div>\r\n\r\n          {analysis && (\r\n            <div className=\"card\">\r\n              <h3>Analysis</h3>\r\n              <p>\r\n                <span className=\"label-inline\">Risk:</span>{\" \"}\r\n                <span className={`risk-badge risk-${analysis.risk.status}`}>\r\n                  {analysis.risk.status.toUpperCase()}\r\n                </span>\r\n              </p>\r\n              <p>\r\n                <span className=\"label-inline\">Liquidity:</span>{\" \"}\r\n                ${analysis.risk.liquidityUsd}\r\n              </p>\r\n              <p>\r\n                <span className=\"label-inline\">Price 5m:</span>{\" \"}\r\n                {analysis.risk.priceChange5m}%\r\n              </p>\r\n              <p>\r\n                <span className=\"label-inline\">Price 1h:</span>{\" \"}\r\n                {analysis.risk.priceChange1h}%\r\n              </p>\r\n\r\n              <h4>Reasons</h4>\r\n              <ul className=\"reasons-list\">\r\n                {analysis.risk.reasons.map((r, i) => (\r\n                  <li key={i}>{r}</li>\r\n                ))}\r\n              </ul>\r\n\r\n              <h4>Plan</h4>\r\n              {!analysis.plan.canSnipe && <p>‚ùå {analysis.plan.reason}</p>}\r\n\r\n              {analysis.plan.canSnipe && (\r\n                <>\r\n                  <ul className=\"steps-list\">\r\n                    {analysis.plan.steps.map((s, i) => (\r\n                      <li key={i}>\r\n                        <span\r\n                          className={`step-badge step-${s.type.toLowerCase()}`}\r\n                        >\r\n                          {s.type}\r\n                        </span>{\" \"}\r\n                        {s.amountSol || s.amount}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n\r\n                  <button\r\n                    className=\"btn\"\r\n                    style={{ marginTop: \"12px\" }}\r\n                    disabled={executingBundle || !connected}\r\n                    onClick={() => executeBundle(\"manual\", analysis)}\r\n                  >\r\n                    {executingBundle\r\n                      ? \"Executing Bundle...\"\r\n                      : \"Execute BUY+SELL Bundle\"}\r\n                  </button>\r\n\r\n                  {!connected && (\r\n                    <p className=\"hint\">\r\n                      Connect Phantom to execute bundles.\r\n                    </p>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        {/* RIGHT PANEL: Auto Mode + Opportunities */}\r\n        <section className=\"panel right-panel\">\r\n          <h2>Auto Mode</h2>\r\n          <p className=\"panel-subtitle\">\r\n            Monitor a token and receive real-time snipe opportunities.\r\n          </p>\r\n\r\n          <div className=\"card\">\r\n            <label className=\"label\">Auto Target Mint</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input\"\r\n              placeholder=\"Mint to monitor\"\r\n              value={autoMint}\r\n              onChange={(e) => setAutoMint(e.target.value)}\r\n            />\r\n\r\n            <div className=\"row\">\r\n              {!autoActive ? (\r\n                <button className=\"btn\" onClick={startAuto}>\r\n                  Start Auto Mode\r\n                </button>\r\n              ) : (\r\n                <button className=\"btn danger\" onClick={stopAuto}>\r\n                  Stop Auto Mode\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <h3>Auto Opportunities</h3>\r\n            {autoOpportunities.length === 0 && (\r\n              <p className=\"hint\">No opportunities detected yet.</p>\r\n            )}\r\n\r\n            {autoOpportunities.map((op, idx) => (\r\n              <div key={idx} className=\"op-card\">\r\n                <div className=\"op-header\">\r\n                  <span className=\"op-mint\">{op.mint}</span>\r\n                  <span\r\n                    className={`risk-badge risk-${op.risk.status}`}\r\n                    style={{ marginLeft: \"8px\" }}\r\n                  >\r\n                    {op.risk.status.toUpperCase()}\r\n                  </span>\r\n                </div>\r\n                <div className=\"op-body\">\r\n                  <p>Liquidity: ${op.risk.liquidityUsd}</p>\r\n                  <p>\r\n                    5m: {op.risk.priceChange5m}% | 1h: {op.risk.priceChange1h}%\r\n                  </p>\r\n                  <button\r\n                    className=\"btn small\"\r\n                    disabled={executingBundle || !connected}\r\n                    onClick={() => executeBundle(\"auto\", op)}\r\n                  >\r\n                    Execute Bundle\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n      {/* LOGS */}\r\n      <section className=\"logs-panel\">\r\n        <h2>Execution Logs</h2>\r\n        <div className=\"logs-box\">\r\n          <pre>{log}</pre>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}